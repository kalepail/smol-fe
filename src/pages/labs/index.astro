---
import Layout from "../../layouts/Layout.astro";
import ExperimentCard from "../../components/labs/ExperimentCard.svelte";

// Experiment Registry
const EXPERIMENTS = [
  {
    title: "Tag Roulette",
    description: "Spin the wheel of metadata. Select hashtags to uncover hidden tracks from the archives.",
    href: "/labs/roulette",
    badge: "EXP-001",
    tags: ["Music", "Discovery"],
    isLocked: false // Unlocking in LABS-003
  },
  {
    title: "Blind Quiz",
    description: "Test your sonic knowledge. Listen to a snippet and guess the correct genre tags.",
    href: "/labs/quiz",
    badge: "EXP-002",
    tags: ["Game", "Audio"],
    isLocked: false // Unlocking in LABS-004
  },
  {
    title: "Audio Recon",
    description: "Visual audio pattern recognition. Match the floating waveform to the active track.",
    href: "/labs/waveform",
    badge: "EXP-003",
    tags: ["Visuals", "Puzzle"],
    isLocked: false // Unlocking in LABS-005
  }
];
---

<Layout title="Smol Labs">
  <div class="min-h-screen bg-black text-[#9ae600] font-pixel p-4 md:p-8 pt-24 relative overflow-hidden">
    
    <!-- Background Effect -->
    <div class="absolute inset-0 opacity-20 pointer-events-none">
        <div class="absolute inset-0 bg-[linear-gradient(rgba(18,18,18,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-10 bg-[length:100%_2px,3px_100%]"></div>
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,theme('colors.lime.900')_0%,transparent_70%)] opacity-20"></div>
    </div>

    <div class="max-w-7xl mx-auto relative z-20 flex flex-col gap-12">
      
      <!-- Header -->
      <div class="text-center space-y-4 py-8">
        <div class="inline-flex items-center gap-2 border border-[#9ae600]/30 bg-[#9ae600]/5 px-3 py-1 rounded-full mb-4">
            <span class="w-1.5 h-1.5 bg-[#ff424c] rounded-full animate-pulse"></span>
            <span class="text-[10px] font-mono text-[#9ae600] uppercase tracking-widest">Experimental Sandbox // Use at own risk</span>
        </div>
        
        <h1 class="text-4xl md:text-8xl font-black tracking-tighter" style="image-rendering: pixelated; text-shadow: 4px 4px 0px #000;">
          <span class="text-white">SMOL</span><span class="text-[#ff424c]">LABS</span>
        </h1>
        <p class="text-xs md:text-sm text-slate-500 font-mono max-w-2xl mx-auto leading-relaxed">
          <span class="text-[#9ae600] uppercase tracking-widest block mb-2">âš  Containment Field Active</span>
          Constructs are isolated for your safety.<br/>
          These experiments are autonomously generated by <span class="text-white" title="Recursive Agentic Prototyping Holodeck">R.A.P.H.</span><br/>
          Logic may be volatile. Proceed with scientific curiosity.
        </p>
      </div>

      <!-- Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {EXPERIMENTS.map((exp) => (
            <ExperimentCard 
                client:visible 
                title={exp.title} 
                description={exp.description} 
                href={exp.href} 
                badge={exp.badge}
                isLocked={exp.isLocked}
                tags={exp.tags}
            />
        ))}

        <!-- Placeholder for Future -->
        <div class="border-2 border-dashed border-[#333] rounded-xl p-6 flex flex-col items-center justify-center gap-4 text-center opacity-50 min-h-[200px]">
             <span class="text-4xl">ðŸ§ª</span>
             <p class="text-xs font-mono uppercase tracking-widest text-[#555]">More Experiments Incoming</p>
        </div>
      </div>

      <!-- Footer / Status -->
      <div class="flex justify-between items-center border-t border-white/5 pt-8 mt-12">
        <div class="flex items-center gap-2 text-[10px] md:text-xs text-[#555] font-mono uppercase tracking-widest">
            <span class="w-2 h-2 bg-[#9ae600] rounded-full animate-ping"></span>
            System Online // Read-Only Mode
        </div>
        <p class="text-[10px] text-[#333] font-mono">
            v0.1.0-alpha
        </p>
      </div>

    </div>
  </div>
</Layout>
